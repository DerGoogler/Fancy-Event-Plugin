(()=>{"use strict";window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};const t=requestAnimFrame;var e={_color:["#D0D0D0","#FF0000","#FFFF00","#22FF00","#2040FF","#00CCFF","#FF00FF","#A319D6"],_gravity:.07,_resistance:.975,_zIndex:2e4,_maxAge:2e3,_interval:[500,2500],_particlesPerExplosion:40,_speed:5,_minSize:8,_maxSize:12,_particles:[],_bodyWidth:0,_bodyHeight:0,_count:0,_lastInterval:0,init:function(){this._addEventListener(window,"resize",(function(){return e.resize.apply(e)})),this._addEventListener(window,"load",(function(){return e.start.apply(e)}))},_addEventListener:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},start:function(){this.resize(),this._animFn=function(){e._move()},this._lastInterval=this._time(),t(this._animFn),this._addExplosion()},_time:function(){return+new Date},_random:function(t){return Math.random()*t},_randomArray:function(t){return t[Math.floor(Math.random()*t.length)]},_addExplosion:function(){for(var t=Math.floor(this._random(this._bodyWidth)),i=Math.floor((this._random(.5)+.1)*this._bodyHeight),n=this._random(10)-5,a=this._random(-2)-1,o=this._randomArray(this._color),s=this._randomArray(this._color),r=0;r<this._particlesPerExplosion;r++)this._createParticle(t,i,n,a,r/(this._particlesPerExplosion-1)*180*Math.PI,this._random(this._speed),this._random(1)>.5?o:s);window.setTimeout((function(){return e._addExplosion.apply(e)}),this._random(this._interval[1]-this._interval[0])+this._interval[0])},_createParticle:function(t,e,i,n,a,o,s){for(var r=null,h=!1,d=this._particles,l=0,_=d.length;l<_;l++)if(d[l].data.age>1){r=d[l],h=!0;break}h||((r=document.createElement("div")).className="particle",r.style.position="absolute",r.style.fontSize=this._maxSize+"px",r.style.zIndex=this._zIndex,r.style.width=this._maxSize+"px",r.style.textAlign="center",r.style.overflow="hidden",r.innerHTML="&#x25cf;"),r.style.left=t+"px",r.style.top=e+"px",r.style.color=s,r.data={x:t,y:e,dx:Math.cos(a)*o+i,dy:Math.sin(a)*o+n,color:s,age:.25*Math.random()},h||(document.getElementsByTagName("body")[0].appendChild(r),this._particles.push(r))},_move:function(){t(this._animFn);var e=this._time()-this._lastInterval;this._lastInterval=this._time();for(var i,n,a=e/20,o=this._particles,s=Math.pow(this._resistance,a),r=this._gravity*a,h=e/this._maxAge,d=0,l=o.length;d<l;d++)(n=(i=o[d]).data).age>1||(n.age+=h,n.dy+=r,n.dx*=s,n.dy*=s,n.x+=n.dx*a,n.y+=n.dy*a,n.x<0?(n.dx*=-1,n.x=0):n.x>this._bodyWidth&&(n.dx*=-1,n.x=this._bodyWidth),n.y<0?(n.dy*=-1,n.y=0):n.y>this._bodyHeight&&(n.dy*=-1,n.y=this._bodyHeight),n.age>1&&(n.x=n.y=0),i.style.left=n.x+"px",i.style.top=n.y+"px",i.style.color=.5*Math.random()+n.age>=1?"transparent":n.color,i.style.fontSize=Math.max(this._minSize,(1-n.age)*this._maxSize)+"px")},resize:function(){this._bodyWidth=this._getWindowWidth()-this._maxSize,this._bodyHeight=this._getWindowHeight()-this._maxSize-10},_getWindowWidth:function(){return document.getElementsByTagName("body")[0].offsetWidth},_getWindowHeight:function(){var t=Math.max(self.innerHeight||0,window.innerHeight||0);return document.documentElement&&(t=Math.max(t,document.documentElement.clientHeight||0)),document.body&&(t=Math.max(t,document.body.clientHeight||0),t=Math.max(t,document.body.scrollHeight||0),t=Math.max(t,document.body.offsetHeight||0)),t}};const i=e;var n={_amount:40,_color:["#AAAACC","#DDDDFF","#CCCCDD","#F3F3F3","#F0FFFF"],_type:["Arial Black","Arial Narrow","Times","Comic Sans MS"],_flakeChar:"*",_speed:.05,_minSize:8,_maxSize:22,_drift:15,_zIndex:2e4,_flakes:[],_bodyWidth:0,_bodyHeight:0,_range:null,_count:0,_lastInterval:0,init:function(){this._addEventListener(window,"resize",(function(){return n.resize.apply(n)})),this._addEventListener(window,"load",(function(){return n.start.apply(n)}))},_addEventListener:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},start:function(){for(this._range=this._maxSize-this._minSize,this.resize();this._amount>this._flakes.length;)this._createFlake(this._flakes.length);this._animFn=function(){n._move()},this._lastInterval=this._time(),t(n._animFn)},_time:function(){return+new Date},_randomInt:function(t){return Math.floor(Math.random()*t)},_randomArray:function(t){return t[Math.floor(Math.random()*t.length)]},_createFlake:function(t){var e,i;this._flakes[t]?e=(i=this._flakes[t]).el:((e=document.createElement("div")).style.position="absolute",e.style.zIndex=this._zIndex,e.innerHTML=this._flakeChar,i={el:e,x:0,y:0,size:0,count:0},this._flakes[t]=i,document.getElementsByTagName("body")[0].appendChild(e)),e.style.left="0px",e.style.top="-"+this._maxSize+"px",e.style.color=this._randomArray(this._color),e.style.family=this._randomArray(this._type),e.style.fontSize=this._randomInt(this._range)+this._minSize+"px",i.x=this._randomInt(this._bodyWidth-this._drift-this._maxSize-3)+this._drift+1,i.y=-this._maxSize-this._randomInt(this._bodyHeight),i.size=this._randomInt(this._range)+this._minSize,i.count=this._randomInt(1e4)},_move:function(){t(n._animFn);var e,i,a=this._time()-this._lastInterval,o=this._flakes.length,s=a*this._speed*this._maxSize;for(this._lastInterval=this._time(),this._count+=a*this._speed/20,e=0;e<o;e++)(i=this._flakes[e]).y+=s/i.size,i.y+i.size>=this._bodyHeight?this._createFlake(e):(i.el.style.left=Math.floor(i.x+Math.sin(i.count+this._count)*this._drift)+"px",i.el.style.top=Math.floor(i.y)+"px")},resize:function(){var t=this._bodyWidth;this._bodyWidth=this._getWindowWidth()-this._maxSize,this._bodyHeight=this._getWindowHeight()-this._maxSize;for(var e,i=this._bodyWidth/t,n=0,a=this._flakes.length;n<a;n++)(e=this._flakes[n]).x*=i,e.y+e.size>=this._bodyHeight&&this._createFlake(n)},_getWindowWidth:function(){var t=Math.max(self.innerWidth||0,window.innerWidth||0);return document.documentElement&&(t=Math.max(t,document.documentElement.clientWidth||0)),document.body&&(t=Math.max(t,document.body.clientWidth||0),t=Math.max(t,document.body.scrollWidth||0),t=Math.max(t,document.body.offsetWidth||0)),t},_getWindowHeight:function(){var t=Math.max(self.innerHeight||0,window.innerHeight||0);return document.documentElement&&(t=Math.max(t,document.documentElement.clientHeight||0)),document.body&&(t=Math.max(t,document.body.clientHeight||0),t=Math.max(t,document.body.scrollHeight||0),t=Math.max(t,document.body.offsetHeight||0)),t}};const a=n;var o=new HWPlugin("fep");native.registerShortcut("n o t i",(function(){ons.notification.prompt("Notification").then((function(t){var e=JSON.parse(t);try{native.electron.notification(e.title,e.message)}catch(t){ons.notification.alert(t)}}))})),"true"===o.getPluginPref("enableFireworks")&&i.init(),"true"===o.getPluginPref("enableSnowflakes")&&a.init(),"true"===o.getPluginPref("enableHighContrastCard")&&o.loadCSS({"@global":{".card":{border:"1px solid rgb(74 20 140)"},".card-header":{borderBottom:"1px solid rgb(74 20 140)"},".search-input--custom":{border:"1px solid rgb(74 20 140)"}}}),o.addSettings([{title:"Fancy Event Plugin",content:[{key:"enableFireworks",type:"switch",text:"Enable Fireworks"},{key:"enableSnowflakes",type:"switch",text:"Enable Snowflakes"},{key:"enableHighContrastCard",type:"switch",text:"Enable high contrast cards"}]}]),o.setPluginPackage({pluginAuthor:"Der_Googler",pluginVersion:"2.3",pluginLanguage:"JavaScript"}),console.log(o.getPluginPackage("pluginAuthor")),console.log(o.getPluginPackage("pluginVersion")),console.log(o.getPluginPackage("pluginLanguage"))})();